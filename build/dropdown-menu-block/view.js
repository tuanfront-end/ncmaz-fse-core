import*as e from"@wordpress/interactivity";var n={d:(e,t)=>{for(var o in t)n.o(t,o)&&!n.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:t[o]})},o:(e,n)=>Object.prototype.hasOwnProperty.call(e,n)};const t=(u={getContext:()=>e.getContext,getElement:()=>e.getElement,store:()=>e.store},s={},n.d(s,u),s),{state:o,actions:c}=(0,t.store)("ncmfse/dropdown-menu",{state:{get isMenuOpen(){const e=(0,t.getContext)();return Object.values(e.menuOpenedBy).filter(Boolean).length>0}},actions:{toggleMenuOnClick(){const e=(0,t.getContext)(),{ref:n}=(0,t.getElement)();window.document.activeElement!==n&&n?.focus(),e.menuOpenedBy.click||e.menuOpenedBy.focus?(c.closeMenu("click"),c.closeMenu("focus")):(e.previousFocus=n,c.openMenu("click"))},closeMenuOnClick(){c.closeMenu("click"),c.closeMenu("focus")},handleMenuKeydown(e){(0,t.getContext)().menuOpenedBy.click&&"Escape"===e?.key&&(c.closeMenu("click"),c.closeMenu("focus"))},openMenuOnFocus(){c.openMenu("focus")},handleMenuFocusout(e){const n=(0,t.getContext)().dropdownMenu;(null===e.relatedTarget||!n?.contains(e.relatedTarget)&&e.target!==window.document.activeElement)&&(c.closeMenu("click"),c.closeMenu("focus"))},openMenu(e="click"){(0,t.getContext)().menuOpenedBy[e]=!0},closeMenu(e="click"){const n=(0,t.getContext)();n.menuOpenedBy[e]=!1,o.isMenuOpen||(n.dropdownMenu?.contains(window.document.activeElement)&&n.previousFocus?.focus(),n.previousFocus=null,n.dropdownMenu=null)}},callbacks:{onWatchMenu(){const e=(0,t.getContext)(),{ref:n}=(0,t.getElement)();o.isMenuOpen&&(e.dropdownMenu=n)}}});var u,s;