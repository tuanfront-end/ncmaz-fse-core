(()=>{"use strict";var e,t={12:()=>{const e=window.wp.blocks,t=window.React,n=window.wp.primitives,a=(0,t.createElement)(n.SVG,{viewBox:"0 0 24 24",xmlns:"http://www.w3.org/2000/svg"},(0,t.createElement)(n.Path,{d:"M18.1823 11.6392C18.1823 13.0804 17.0139 14.2487 15.5727 14.2487C14.3579 14.2487 13.335 13.4179 13.0453 12.2922L13.0377 12.2625L13.0278 12.2335L12.3985 10.377L12.3942 10.3785C11.8571 8.64997 10.246 7.39405 8.33961 7.39405C5.99509 7.39405 4.09448 9.29465 4.09448 11.6392C4.09448 13.9837 5.99509 15.8843 8.33961 15.8843C8.88499 15.8843 9.40822 15.781 9.88943 15.5923L9.29212 14.0697C8.99812 14.185 8.67729 14.2487 8.33961 14.2487C6.89838 14.2487 5.73003 13.0804 5.73003 11.6392C5.73003 10.1979 6.89838 9.02959 8.33961 9.02959C9.55444 9.02959 10.5773 9.86046 10.867 10.9862L10.8772 10.9836L11.4695 12.7311C11.9515 14.546 13.6048 15.8843 15.5727 15.8843C17.9172 15.8843 19.8178 13.9837 19.8178 11.6392C19.8178 9.29465 17.9172 7.39404 15.5727 7.39404C15.0287 7.39404 14.5066 7.4968 14.0264 7.6847L14.6223 9.20781C14.9158 9.093 15.2358 9.02959 15.5727 9.02959C17.0139 9.02959 18.1823 10.1979 18.1823 11.6392Z"})),o=window.wp.data,l=window.wp.blockEditor,r=window.wp.compose,s=window.wp.element,i=window.wp.components,c=window.wp.i18n,m=window.wp.coreData,u=[{label:(0,c.__)("Include/desc"),value:"include/desc"},{label:(0,c.__)("Include/asc"),value:"include/asc"},{
/* translators: label for ordering posts by title in ascending order */
label:(0,c.__)("A → Z"),value:"name/asc"},{
/* translators: label for ordering posts by title in descending order */
label:(0,c.__)("Z → A"),value:"name/desc"},{label:(0,c.__)("Count/asc"),value:"count/asc"},{label:(0,c.__)("Count/desc"),value:"count/desc"},{label:(0,c.__)("Term group/asc"),value:"term_group/asc"},{label:(0,c.__)("Term group/desc"),value:"term_group/desc"}],p=function({order:e,orderBy:n,onChange:a}){return(0,t.createElement)(i.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,c.__)("Order by"),value:`${n}/${e}`,options:u,onChange:e=>{const[t,n]=e.split("/");a({order:n,orderBy:t})}})},d=({perPage:e,onChange:n})=>(0,t.createElement)(i.RangeControl,{__next40pxDefaultSize:!0,__nextHasNoMarginBottom:!0,label:(0,c.__)("Posts per page"),min:1,max:100,onChange:e=>{void 0!==e&&(isNaN(e)||e<1||e>100||n({perPage:e}))},value:parseInt(e,10)}),_=({page:e,onChange:n})=>(0,t.createElement)(i.__experimentalNumberControl,{__next40pxDefaultSize:!0,label:(0,c.__)("Page to show."),value:e,min:0,onChange:e=>{if(void 0===e)return;let t=0;t=parseInt(e),isNaN(t)||t<0||n({page:t})},help:(0,c.__)("Use this to specify the number of pages of the query to display. If you set it to 0 or leave it blank, it will display the first page of the query.")}),h=e=>{const t=(0,o.useSelect)((t=>{const{getTaxonomies:n,getPostType:a}=t(m.store);return a(e)?.taxonomies?.length>0?n({type:e,per_page:-1}):[]}),[e]);return(0,s.useMemo)((()=>t?.filter((({visibility:e})=>!!e?.publicly_queryable))),[t])},v=()=>{const e=(0,o.useSelect)((e=>{const{getPostTypes:t}=e(m.store),n=["attachment"],a=t({per_page:-1})?.filter((({viewable:e,slug:t})=>e&&!n.includes(t)));return a}),[]);return{postTypesTaxonomiesMap:(0,s.useMemo)((()=>{if(e?.length)return e.reduce(((e,t)=>(e[t.slug]=t.taxonomies,e)),{})}),[e]),postTypesSelectOptions:(0,s.useMemo)((()=>(e||[]).map((({labels:e,slug:t})=>({label:e.singular_name,value:t})))),[e])}};function g(e){const{attributes:n,setQuery:a,setDisplayLayout:o,setAttributes:l,clientId:r}=e,{myQuery:u,displayLayout:g}=n,{perPage:y,isFilterByOrder:b,taxonomySlug:f,termIdList:x,inherit:w,excludeIdList:E,hideEmpty:C,order:B,orderBy:k,parentIdString:S,postType:T,page:H}=u,I=h(T),{records:z}=(0,m.useEntityRecords)("taxonomy",f,{per_page:-1,orderby:"name",order:"asc",_fields:"id,name,parent",context:"view"}),{postTypesTaxonomiesMap:M={},postTypesSelectOptions:P}=v(),L=(0,s.useMemo)((()=>(I?.map((e=>e?.visibility?.publicly_queryable?{value:e.slug,label:e.name}:null))||[]).filter((e=>null!==e))),[I]),N=(0,s.useMemo)((()=>z?.map((e=>{let t=e.name;if(e.parent){const n=z.find((t=>t.id===e.parent));n&&(t=`${n.name} > ${t}`)}return{...e,id:e.id.toString(),label:t,parent:e.parent}}))||[]),[z]),O=(0,s.useMemo)((()=>"string"!=typeof S?N:N.filter((e=>e.parent==S))),[N,S]),F=e=>{let t={postType:e};const n=M[e];a({...t,taxonomySlug:n[0],parent:null,termIdList:[],excludeIdList:[]})},V=N.map((e=>e.label)),A=O.map((e=>e.label)),D=(e=[])=>N.filter((t=>e.includes(t.id))).map((e=>e.label)),q=(e=[])=>N.filter((t=>e.includes(t.label))).map((e=>e.id)),Q=(0,c.__)("Limit results to taxonomies associated with a specific post type.");return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(i.PanelBody,{title:(0,c.__)("Settings")},(0,t.createElement)(i.ToggleControl,{__nextHasNoMarginBottom:!0,checked:w,label:(0,c.__)("Inherit from the archive page."),onChange:e=>{a({inherit:e})},help:(0,c.__)("Limit results are set to terms assigned to the parent - current archive page. Note: This only works in archive pages.")}),!w&&(P.length>2?(0,t.createElement)(i.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,options:P,value:T,label:(0,c.__)("Post type"),onChange:F,help:Q}):(0,t.createElement)(i.__experimentalToggleGroupControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,isBlock:!0,value:T,label:(0,c.__)("Post type"),onChange:e=>{e&&F(e?.toString()||"")},help:Q},P.map((e=>(0,t.createElement)(i.__experimentalToggleGroupControlOption,{key:e.value,value:e.value,label:e.label}))))),!w&&(0,t.createElement)(t.Fragment,null,L.length?(0,t.createElement)(i.SelectControl,{__nextHasNoMarginBottom:!0,label:(0,c.__)("Taxonomy type"),value:f,options:L,onChange:e=>{a({taxonomySlug:e,parent:null,termIdList:[],excludeIdList:[]})}}):(0,t.createElement)(i.BaseControl,{label:(0,c.__)("Taxonomy type"),help:(0,c.__)("No taxonomy found, please try again with another post type.")},(0,t.createElement)("div",null))),(0,t.createElement)(i.ToggleControl,{__nextHasNoMarginBottom:!0,checked:C,label:(0,c.__)("Hide empty terms."),onChange:e=>{a({hideEmpty:e})},help:(0,c.__)("Display a list of terms that have posts associated with them.")})),(0,t.createElement)(i.PanelBody,{title:(0,c.__)("Query")},(0,t.createElement)(p,{order:B,orderBy:k,onChange:a}),(0,t.createElement)(d,{perPage:y,onChange:a}),(0,t.createElement)(_,{page:H,onChange:a})),!w&&(0,t.createElement)(i.PanelBody,{title:(0,c.__)("Terms Settings"),initialOpen:!1},V.length?(0,t.createElement)(t.Fragment,null,(0,t.createElement)(i.BaseControl,{help:(0,c.__)("Limit result set to terms assigned to a specific parent. Data will return empty if the selected has no children. ")},(0,t.createElement)(i.FormTokenField,{__experimentalAutoSelectFirstMatch:!0,__experimentalExpandOnFocus:!0,__experimentalShowHowTo:!1,label:(0,c.__)("Parent"),onChange:e=>{if(!Array.isArray(e))return;const t=q([e.reverse()[0]]);a({parentIdString:t[0],termIdList:[],excludeIdList:[]})},suggestions:V,value:D("string"==typeof S?[S]:[]),maxLength:1,placeholder:(0,c.__)("Select only one parent")})),(0,t.createElement)(i.BaseControl,{help:(0,c.__)("Show a list of terms with related posts. Leave blank if you want to catch all.")},(0,t.createElement)(i.FormTokenField,{__experimentalAutoSelectFirstMatch:!0,__experimentalExpandOnFocus:!0,label:(0,c.__)("Terms include"),onChange:e=>{Array.isArray(e)&&a({termIdList:q(e)})},suggestions:A,value:D(x)})),(0,t.createElement)(i.BaseControl,{help:(0,c.__)("Exclude a list of terms with related posts.")},(0,t.createElement)(i.FormTokenField,{__experimentalAutoSelectFirstMatch:!0,__experimentalExpandOnFocus:!0,label:(0,c.__)("Terms exclude"),onChange:e=>{Array.isArray(e)&&a({excludeIdList:q(e)})},suggestions:A,value:D(E)}))):(0,t.createElement)(i.BaseControl,{help:(0,c.__)("Please select a taxonomy type to filter terms by parent, include, exclude. Or with your current query no results are found, please try again.")},(0,t.createElement)("div",null))))}const y=[["ncmfse/term-template-block"]];function b({attributes:e,setAttributes:n,name:a,clientId:m}){const{myQueryId:u,myQuery:p,displayLayout:d,tagName:_="div"}=e,{__unstableMarkNextChangeAsNotPersistent:h}=(0,o.useDispatch)(l.store),v=(0,r.useInstanceId)(b),f=(0,l.useBlockProps)(),x=(0,l.useInnerBlocksProps)(f,{template:y});(0,s.useEffect)((()=>{Number.isFinite(u)||(h(),n({myQueryId:v}))}),[u,v]);const w={main:(0,c.__)("The <main> element should be used for the primary content of your document only."),section:(0,c.__)("The <section> element should represent a standalone portion of the document that can't be better represented by another element."),aside:(0,c.__)("The <aside> element should represent a portion of a document whose content is only indirectly related to the document's main content.")};return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(l.InspectorControls,null,(0,t.createElement)(g,{attributes:e,setQuery:e=>{n({myQuery:{...p,...e}})},setDisplayLayout:e=>{n({displayLayout:{...d,...e}})},setAttributes:n,clientId:m})),(0,t.createElement)(l.InspectorControls,{group:"advanced"},(0,t.createElement)(i.SelectControl,{__nextHasNoMarginBottom:!0,__next40pxDefaultSize:!0,label:(0,c.__)("HTML element"),options:[{label:(0,c.__)("Default (<div>)"),value:"div"},{label:"<main>",value:"main"},{label:"<section>",value:"section"},{label:"<aside>",value:"aside"}],value:_,onChange:e=>n({tagName:e}),help:w[_]})),(0,t.createElement)(_,{...x}))}function f({attributes:n,clientId:a,name:r,openPatternSelectionModal:m}){const[u,p]=(0,s.useState)(!1),d=(0,l.useBlockProps)(),_=function(t,n){const a=(0,o.useSelect)((t=>t(e.store).getActiveBlockVariation("ncmfse/term-query-loop",n)?.name),[n]),r=`ncmfse/term-query-loop/${a}`;return(0,o.useSelect)((e=>{if(!a)return!1;const{getBlockRootClientId:n,getPatternsByBlockTypes:o}=e(l.store),s=n(t);return o(r,s).length>0}),[t,a,r])?r:"ncmfse/term-query-loop"}(a,n),{blockType:h,activeBlockVariation:v,hasPatterns:g}=(0,o.useSelect)((t=>{const{getActiveBlockVariation:o,getBlockType:s}=t(e.store),{getBlockRootClientId:i,getPatternsByBlockTypes:c}=t(l.store),m=i(a);return{blockType:s(r),activeBlockVariation:o(r,n),hasPatterns:!!c(_,m).length}}),[r,_,a,n]),y=v?.icon?.src||v?.icon||h?.icon?.src,b=v?.title||h?.title;return u?(0,t.createElement)(x,{clientId:a,attributes:n,icon:y,label:b}):(0,t.createElement)("div",{...d},(0,t.createElement)(i.Placeholder,{icon:y,label:b,instructions:(0,c.__)("Choose a pattern for the query loop or start blank.")},!!g&&(0,t.createElement)(i.Button,{__next40pxDefaultSize:!1,variant:"primary",onClick:m},(0,c.__)("Choose")),(0,t.createElement)(i.Button,{__next40pxDefaultSize:!1,variant:"secondary",onClick:()=>{p(!0)}},(0,c.__)("Start blank"))))}function x({clientId:n,attributes:a,icon:r,label:i}){const c=function(t){const{activeVariationName:n,blockVariations:a}=(0,o.useSelect)((n=>{const{getActiveBlockVariation:a,getBlockVariations:o}=n(e.store);return{activeVariationName:a("ncmfse/term-query-loop",t)?.name,blockVariations:o("ncmfse/term-query-loop","block")}}),[t]);return(0,s.useMemo)((()=>{const e=e=>!e.attributes?.namespace;if(!n)return a.filter(e);const t=a.filter((e=>e.attributes?.namespace?.includes(n)));return t.length?t:a.filter(e)}),[n,a])}(a),{replaceInnerBlocks:m}=(0,o.useDispatch)(l.store),u=(0,l.useBlockProps)();return(0,t.createElement)("div",{...u},(0,t.createElement)(l.__experimentalBlockVariationPicker,{icon:r,label:i,variations:c,onSelect:t=>{t.innerBlocks&&m(n,(0,e.createBlocksFromInnerBlocksTemplate)(t.innerBlocks),!1)}}))}const w=JSON.parse('{"UU":"ncmfse/term-query-loop"}'),E=(0,t.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},(0,t.createElement)(i.Path,{d:"M41 9H7v3h34V9zm-22 5H7v1h12v-1zM7 26h12v1H7v-1zm34-5H7v3h34v-3zM7 38h12v1H7v-1zm34-5H7v3h34v-3z"})),C=((0,t.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},(0,t.createElement)(i.Path,{d:"M41 9H7v3h34V9zm-4 5H7v1h30v-1zm4 3H7v1h34v-1zM7 20h30v1H7v-1zm0 12h30v1H7v-1zm34 3H7v1h34v-1zM7 38h30v1H7v-1zm34-11H7v3h34v-3z"})),(0,t.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},(0,t.createElement)(i.Path,{d:"M41 9H7v3h34V9zm-22 5H7v1h12v-1zm22 3H7v1h34v-1zM7 20h34v1H7v-1zm0 12h12v1H7v-1zm34 3H7v1h34v-1zM7 38h34v1H7v-1zm34-11H7v3h34v-3z"})),(0,t.createElement)(i.SVG,{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 48 48"},(0,t.createElement)(i.Path,{d:"M7 9h34v6H7V9zm12 8H7v1h12v-1zm18 3H7v1h30v-1zm0 18H7v1h30v-1zM7 35h12v1H7v-1zm34-8H7v6h34v-6z"})),[{name:"title-date",title:(0,c.__)("Title & Date"),icon:E,attributes:{},innerBlocks:[["ncmfse/term-template",{},[["core/group",{},[["ncmfse/term-featured-img"],["ncmfse/term-name"],["ncmfse/term-description"],["ncmfse/term-count"]]]]]],scope:["block"]}]);(0,e.registerBlockType)(w.UU,{icon:a,edit:e=>{const{clientId:n}=e,a=(0,o.useSelect)((e=>!!e(l.store).getBlocks(n).length),[n])?b:f;return(0,t.createElement)(t.Fragment,null,(0,t.createElement)(a,{...e}))},save:function({attributes:{tagName:e="div"}}){const n=l.useBlockProps.save(),a=l.useInnerBlocksProps.save(n);return(0,t.createElement)(e,{...a})},variations:C})}},n={};function a(e){var o=n[e];if(void 0!==o)return o.exports;var l=n[e]={exports:{}};return t[e](l,l.exports,a),l.exports}a.m=t,e=[],a.O=(t,n,o,l)=>{if(!n){var r=1/0;for(m=0;m<e.length;m++){for(var[n,o,l]=e[m],s=!0,i=0;i<n.length;i++)(!1&l||r>=l)&&Object.keys(a.O).every((e=>a.O[e](n[i])))?n.splice(i--,1):(s=!1,l<r&&(r=l));if(s){e.splice(m--,1);var c=o();void 0!==c&&(t=c)}}return t}l=l||0;for(var m=e.length;m>0&&e[m-1][2]>l;m--)e[m]=e[m-1];e[m]=[n,o,l]},a.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),(()=>{var e={3700:0,6044:0};a.O.j=t=>0===e[t];var t=(t,n)=>{var o,l,[r,s,i]=n,c=0;if(r.some((t=>0!==e[t]))){for(o in s)a.o(s,o)&&(a.m[o]=s[o]);if(i)var m=i(a)}for(t&&t(n);c<r.length;c++)l=r[c],a.o(e,l)&&e[l]&&e[l][0](),e[l]=0;return a.O(m)},n=globalThis.webpackChunktodo_list=globalThis.webpackChunktodo_list||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))})();var o=a.O(void 0,[6044],(()=>a(12)));o=a.O(o)})();