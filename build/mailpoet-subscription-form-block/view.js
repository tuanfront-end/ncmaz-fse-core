import*as e from"@wordpress/interactivity";var o={d:(e,t)=>{for(var a in t)o.o(t,a)&&!o.o(e,a)&&Object.defineProperty(e,a,{enumerable:!0,get:t[a]})},o:(e,o)=>Object.prototype.hasOwnProperty.call(e,o)};const t=(r={getContext:()=>e.getContext,store:()=>e.store},s={},o.d(s,r),s),{state:a}=(0,t.store)("ncmfse/mailpoet-subscription-form",{state:{},actions:{onSubmitForm:e=>{const o=(0,t.getContext)();if(e.preventDefault(),!o.loading){o.loading=!0,o.showError=!1,o.showSuccessMessage=!1;try{const t=new FormData;t.append("action","add_subscriber_to_mailpoet_list"),t.append("_ajax_nonce",a.mailpoetFormNonce),t.append("mailpoet_list_id",o.mailpoetListId);const r=e.target,s=r.email.value,n=r.name.value;t.append("name",n),t.append("email",s),fetch(a.ajaxUrl,{method:"POST",body:t}).then((e=>e.json())).then((({data:e,success:t})=>{t?o.showSuccessMessage=!0:(o.showError=!0,"string"==typeof e&&(o.errorMesssage=e))})).finally((()=>{o.loading=!1}))}catch(e){console.log("Error Server data!",e),o.loading=!1,o.showError=!0,o.errorMesssage="Error Server data!"}}}},callbacks:{}});var r,s;