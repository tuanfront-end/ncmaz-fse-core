{"version":3,"file":"like-button-block/view.js","mappings":";;;;;;;;;AAAA;;;;;;SCAA;SACA;;SAEA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;SACA;;SAEA;SACA;;SAEA;SACA;SACA;;;;;UCtBA;UACA;UACA;UACA,uDAAuD,iBAAiB;UACxE;UACA,gDAAgD,aAAa;UAC7D;;;;;;;;;;ACNA;AACA;AACA;AAC6D;;AAE7D;;AAUA,MAAM;EAAEE;AAAM,CAAC,GAAGF,+DAAK,CAAC,eAAe,EAAE;EACxCE,KAAK,EAAE,CAAC,CAAW;EACnBC,OAAO,EAAE;IACRC,MAAM,EAAEA,CAAA,KAAM;MACb,MAAMC,OAAO,GAAGJ,oEAAU,CAAW,CAAC;MACtCI,OAAO,CAACC,MAAM,GAAG,CAACD,OAAO,CAACC,MAAM;MAChCC,OAAO,CAACC,GAAG,CAAC,SAAS,EAAE;QAAEN,KAAK;QAAEG;MAAQ,CAAC,CAAC;IAC3C,CAAC;IACDI,UAAU,EAAEA,CAAA,KAAM;MACjB,IAAI;QACH,MAAMC,QAAQ,GAAG,IAAIC,QAAQ,CAAC,CAAC;QAC/BD,QAAQ,CAACE,MAAM,CAAC,QAAQ,EAAE,aAAa,CAAC;QACxCF,QAAQ,CAACE,MAAM,CAAC,aAAa,EAAEV,KAAK,CAACW,KAAK,CAAC;QAE3C,MAAMC,IAAI,GAAGC,KAAK,CAACb,KAAK,CAACc,OAAO,EAAE;UACjCC,MAAM,EAAE,MAAM;UACdC,IAAI,EAAER;QACP,CAAC,CAAC,CACAS,IAAI,CAAEC,QAAQ,IAAK;UACnBb,OAAO,CAACC,GAAG,CAAC,cAAc,EAAEM,IAAI,CAAC;UACjC,OAAOM,QAAQ,CAACC,IAAI,CAAC,CAAC;QACvB,CAAC,CAAC,CACDC,KAAK,CAAEC,KAAK,IAAK;UACjBhB,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEe,KAAK,CAAC;QACzC,CAAC,CAAC;MACJ,CAAC,CAAC,OAAOC,CAAC,EAAE;QACX;QACAjB,OAAO,CAACC,GAAG,CAAC,oBAAoB,EAAEgB,CAAC,CAAC;MACrC;IACD;EACD,CAAC;EACDC,SAAS,EAAE;IACVC,SAAS,EAAEA,CAAA,KAAM;MAChB,MAAMrB,OAAO,GAAGJ,oEAAU,CAAW,CAAC;MACtCM,OAAO,CAACC,GAAG,CAAC,WAAW,EAAE;QAAEN,KAAK;QAAEG;MAAQ,CAAC,CAAC;IAC7C;EACD;AACD,CAAC,CAAC,C","sources":["webpack://todo-list/external module \"@wordpress/interactivity\"","webpack://todo-list/webpack/bootstrap","webpack://todo-list/webpack/runtime/make namespace object","webpack://todo-list/./src/like-button-block/view.ts"],"sourcesContent":["module.exports = __WEBPACK_EXTERNAL_MODULE__wordpress_interactivity_8e89b257__;","// The module cache\nvar __webpack_module_cache__ = {};\n\n// The require function\nfunction __webpack_require__(moduleId) {\n\t// Check if module is in cache\n\tvar cachedModule = __webpack_module_cache__[moduleId];\n\tif (cachedModule !== undefined) {\n\t\treturn cachedModule.exports;\n\t}\n\t// Create a new module (and put it into the cache)\n\tvar module = __webpack_module_cache__[moduleId] = {\n\t\t// no module.id needed\n\t\t// no module.loaded needed\n\t\texports: {}\n\t};\n\n\t// Execute the module function\n\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n\n\t// Return the exports of the module\n\treturn module.exports;\n}\n\n","// define __esModule on exports\n__webpack_require__.r = (exports) => {\n\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n\t}\n\tObject.defineProperty(exports, '__esModule', { value: true });\n};","/**\n * WordPress dependencies\n */\nimport { store, getContext } from \"@wordpress/interactivity\";\n\n// view.js\ninterface TContext {\n\tisOpen: boolean;\n}\n\ninterface TState {\n\tnonce: string;\n\tajaxUrl: string;\n}\n\nconst { state } = store(\"ncmazfse-core\", {\n\tstate: {} as TState,\n\tactions: {\n\t\ttoggle: () => {\n\t\t\tconst context = getContext<TContext>();\n\t\t\tcontext.isOpen = !context.isOpen;\n\t\t\tconsole.log(\"actions\", { state, context });\n\t\t},\n\t\thandleLike: () => {\n\t\t\ttry {\n\t\t\t\tconst formData = new FormData();\n\t\t\t\tformData.append(\"action\", \"handle_like\");\n\t\t\t\tformData.append(\"_ajax_nonce\", state.nonce);\n\n\t\t\t\tconst data = fetch(state.ajaxUrl, {\n\t\t\t\t\tmethod: \"POST\",\n\t\t\t\t\tbody: formData,\n\t\t\t\t})\n\t\t\t\t\t.then((response) => {\n\t\t\t\t\t\tconsole.log(\"Server data!\", data);\n\t\t\t\t\t\treturn response.json();\n\t\t\t\t\t})\n\t\t\t\t\t.catch((error) => {\n\t\t\t\t\t\tconsole.log(\"Error Server data!\", error);\n\t\t\t\t\t});\n\t\t\t} catch (e) {\n\t\t\t\t// Something went wrong!\n\t\t\t\tconsole.log(\"Error Server data!\", e);\n\t\t\t}\n\t\t},\n\t},\n\tcallbacks: {\n\t\tlogIsOpen: () => {\n\t\t\tconst context = getContext<TContext>();\n\t\t\tconsole.log(\"callbacks\", { state, context });\n\t\t},\n\t},\n});\n"],"names":["store","getContext","state","actions","toggle","context","isOpen","console","log","handleLike","formData","FormData","append","nonce","data","fetch","ajaxUrl","method","body","then","response","json","catch","error","e","callbacks","logIsOpen"],"sourceRoot":""}